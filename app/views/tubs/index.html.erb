<!-- Search Bar -->
<div class="row justify-content-center mt-4 mb-3">
  <div class="col-md-8">
    <%= form_with url: tubs_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
            params[:query],
            class: "form-control me-2",
            placeholder: "Type a keyword" %>
      <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>

<!-- Main Content -->
<div class="row">
  <!-- Left: List of Cards -->
  <div class="col-md-4 overflow-auto" style="max-height: 500px;">
    <ul class="list-unstyled">
      <% @tubs.each do |tub| %>
        <li class="mb-3">
          <%= render "tub", tub: tub %>
        </li>
      <% end %>
    </ul>
  </div>

  <!-- Right: Map -->
  <div class="col-md-8">
    <div style="width: 100%; height: 500px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
